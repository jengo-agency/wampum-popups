let _ouibounce;function show(e){return e?"none"===getComputedStyle(e).display&&(e.dataset.displayWas?(e.style.display=e.dataset.displayWas,e.removeAttribute("data-display-was")):(e.style.display=null,"none"===getComputedStyle(e).display&&(console.log("Show : status error for "+e+", invalid previous display state. Forcing to revert"),e.style.display="revert")),!0):(console.warn("show : obj is null"),!1)}function hide(e){return!!e&&("none"!=getComputedStyle(e).display&&(e.style.display&&"revert"!=e.style.display&&(e.dataset.displayWas=e.style.display),e.style.display="none",!0))}function fadeIn(e,t=300){if(!e)return console.warn("fadeIn : obj is null"),!1;e.classList.add("fade-in"),show(e);const o=()=>{e.classList.remove("fade-in"),e.removeEventListener("animationend",o)};return e.addEventListener("animationend",o),!0}function fadeOut(e,t=300){if(!e)return console.warn("fadeIn : obj is null"),!1;e.classList.add("fade-out");const o=()=>{e.style.display="none",e.classList.remove("fade-out"),e.removeEventListener("animationend",o)};return e.addEventListener("animationend",o),!0}document.ready=function(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},document.ready((()=>{"use strict";function e(e){const t=e.closest(".wampum-popup-inner");t&&(e.style.width="auto",e.style.height="auto",e.style.height=`${t.offsetHeight}px`,e.style.maxHeight="100%",e.style.maxWidth="100%")}function t(e){fadeOut(e),_ouibounce&&_ouibounce.disable(),hide(e.querySelector(".wampum-popup-prev")),hide(e.querySelector(".wampum-popup-next"))}"undefined"!=typeof wampum_popups_vars?(document.querySelectorAll(".wampum-popup-link").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("data-popup"),n=document.querySelector(`#wampum-popup-${o}`);console.log("[popup] clicking on link, displaying popup "+o),show(n)}))})),document.querySelectorAll(".wampum-popup").forEach((o=>{const n=o.getAttribute("data-popup"),s=wampum_popups_vars[n]?.wampumpopups,a=wampum_popups_vars[n]?.ouibounce;if(!s)return void console.error(`Popup variables not found for index: ${n}`);const l={...a||{}};if(o.classList.add(`wampum-${s.style}`,`wampum-${s.type}`),"gallery"===s.type){const t=o.querySelector(".wampum-popup-content");document.querySelectorAll(".gallery-item").length>1&&t.insertAdjacentHTML("afterend",'\n            <span style="display:none;" class="wampum-popup-button wampum-popup-next"><span class="screen-reader-text">Next</span></span>\n            <span style="display:none;" class="wampum-popup-button wampum-popup-prev"><span class="screen-reader-text">Previous</span></span>\n          '),document.querySelectorAll(".gallery-item a").forEach((n=>{n.addEventListener("click",(s=>{s.preventDefault();const a=n.href,l=n.querySelector("img").alt;t.querySelectorAll("img").forEach((e=>e.remove())),t.insertAdjacentHTML("beforeend",`<img style="width:auto;height:auto;" src="${a}" alt="${l}"/>`),show(o);const p=o.querySelector("img"),i=o.querySelector(".wampum-popup-prev"),r=o.querySelector(".wampum-popup-next");let u=n.closest(".gallery-item"),c=u.previousElementSibling,d=u.nextElementSibling;function m(){c&&c.matches(".gallery-item")&&(u=c,p.src=u.querySelector("a").href,p.alt=u.querySelector("img").alt,c=u.previousElementSibling,d=u.nextElementSibling,i.style.display=c?"block":"none",r.style.display=d?"block":"none")}function y(){d&&d.matches(".gallery-item")&&(u=d,p.src=u.querySelector("a").href,p.alt=u.querySelector("img").alt,c=u.previousElementSibling,d=u.nextElementSibling,i.style.display=c?"block":"none",r.style.display=d?"block":"none")}c?setTimeout((()=>show(i)),500):hide(i),d?setTimeout((()=>show(r)),500):hide(r),p.addEventListener("load",(()=>e(p))),window.addEventListener("resize",(()=>e(p))),i.addEventListener("click",m),r.addEventListener("click",y),document.addEventListener("keydown",(e=>{switch(e.key){case"ArrowLeft":m();break;case"ArrowRight":y();break;default:return}e.preventDefault()}))}))}))}"exit"===s.type&&(_ouibounce=ouibounce(o,l)),"timed"===s.type&&("true"===l.aggressive?show(o):(_ouibounce=ouibounce(o,l),setTimeout((()=>_ouibounce.fire()),s.time))),o.addEventListener("click",(e=>{!e.target.matches(".wampum-popup-close")&&!e.target.matches(".wampum-popup-overlay.close-outside")||e.target.matches(".wampum-popup-prev, .wampum-popup-next")||e.target.closest(".wampum-popup-content")||(console.log("[popup] clicking on 'overlay or cross', closing popup "),t(o),s.close_outside)}))})),document.addEventListener("keydown",(e=>{if("Escape"===e.key){const o=document.querySelector('.wampum-popup[style*="display: block"]');o&&t(o),e.preventDefault()}}))):console.error("wampum_popups_vars is not defined. Ensure it is localized in your WordPress setup.")}));